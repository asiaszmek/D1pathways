This is terse but detailed list of steps to develop the model.  See ResearchPlanMSNsignalingPathway.txt for bigger picture, including
     What are the big research questions
     What are some little research questions
     Some experiments that can help test/develop the model
     See NeuroRD.bat for information on how to run models
This file is also used to keep track of which steps have been done, and what needs to be done next.

NEXT STEPS: Da-R-G subset and fit to FRET

May 15-18, 2015
    Did the first plc assay - looks good, but not great.  
    with Gaq = 0 or 261: There is no saturation of calcium binding, much less decrease with too high a calcium value.  Consider higher affinity for calcium binding.
    with Ca = 300 nM, and Gaq from 5 to 80: linear increase (fine), but IP3 is too high for the lower Gaq values - this suggests Ca affinity is too high.
    What about lower Ca affinity in absence of Gaq, but higher affinity in presence?  Above simulations used
    PLC+Ca <-> PLCCa Kd=6000 (should have been 1000-2000 nM), PIP2 bind Kd= 58 
    PLC-Gq + Ca <-> PLC-GqCa Kd=500 (should have been 200-400 nM), PIP2 bind Kd= 21.7 
    PLC + Gq <-> PLC-Gq Kd=1200 (should have been ~50)
    PLCCa + Gq <-> PLCCa-Gq Kd=100 (PMR)

    Assessment of Sims with above Kd:  Gaq binding is way too high affinity - not distinction among different Gq amounts.  Ca affinity is not too bad.  Another problem - some simulations are crashing in the middle, which is not being helped by smaller dt.  May be some other bug.  Need to get next version of neuroRD.
    It seems that the Ca = 300 nM, and Gaq low values (e.g. 5-15) are quite dependent on the PLC-Ca activity (i.e., activity in absence of Gq).  Perhaps lower Ca affinity will help also.
    Eliminating the activity of PlcCa helped immensely for this simulation, but then the Ca param variation doesn't work :(.
    values of kcat=0.225 are too high, kcat=0.0225 are too low (but better); 
NEXT: try kcat=0.045, and add in the 2nd DAG dissociation step
      GREAT Gq response.  Good Ca response with Gq.  Gq=0 didn't run.  Double kcat again - still good, though Ca 300 Gq 5 a bit high ,and Ca10 uM Gq = 0 a bit low
      Add in slow Gq hydrolysis: No beter in terms of things that ran.
      slightly lower Ca affinity for PLC - 2.5 uM, with 500 nM for PLC-Gq
      Fine.  Not much better.  Still too low a response for Gq=0 and to high a response for 300 nM Ca with Gq=5
      Redid the simulations of Ca dependence using 22 instead of 261 nM Gq - 22 is calculated from 55 ng and 60 uL.  Much better - 22 n nM Gq has ~2x the IP3 as 0 Gq, as in the figures.  The Gq dependence with 300 nM Ca looks good.
      Went back to the 400 nM / 2000 nM Ca affinity - Ca sensitivity looks better, though perhaps the Gq assay a bit high
      Need to re-check once the program isn't crashing with many parameter combinations.
      SLowed down Gq binding from 1.0=kb to 0.7, similar to Falkenburg - minimal  change to results
      Copied these parameters into the merged file

April 30, 2015
Currently working on Step 2 below.  Broken down into smaller steps
Next steps:
1. plc assay: create xml for 
   par1={'species':'GaqGTP','values':[0,261],'type':'NanoMolarity'}
   par2={'species':'Ca','values':[10,30,100,300,1e3,3e3,10e3],'type':'NanoMolarity'}
   simulate analyze, compare to smrcka
   create xml for 
   par1={'species':'GaqGTP','values':[10,20,30,40,50,60,70,80],'type':'NanoMolarity'}
   par2={'species':'Ca','values':[1,300],'type':'NanoMolarity'}
   simulate, analyze (change xval to pv[0]), compare to smrcka
2. create cAMP subset for cAMP assay (merged) 
   dend only with submembrane voxels to achieve
   correct surface to volume, and also large volume
   may need to run to steady state first
3. assess steady state values related to calcium stuff
4. Darpp assay
   dend only with submembrane voxels to achieve
   correct surface to volume, and also large volume
   may need to update IC files with a reasonable ss starting place

Step 1. Merge reactions from modified version of Rodrigo's model and BoHung's model
Notes in the RXN file indicate whether the reaction came from the Gs model (Oliveira 2012) or Gq model (Kim 2013)
DONE.  1A. Merge reactions
DONE. 1B. Use the smaller, 1 spine morphology
1C. Create initial IC file - BALANCE ALL SPECIES, concentration and total PKA, etc in dend sm and spine head
DONE. 1D. Create a no stim file
DONE. 1E. Create an everything and a simpler/reduced IO file
Compare rate constants with xpp model and Oliveira model: which rates match references theirin, which ones do not match references, which rates don't have references.
Search for updated references for rates with none or non-matching refs.  
Check thermodynamic balance of some sets of reactions.

Step 2. Adjust ... to achieve correct basal cAMP and calcium
2A. IC and RXN for calmodulin, calbindin, pumps, affinity of Ca for Dagl and PLC
2B. IC and RXN for Gs production and binding
2C. possibly include Gi reactions here to help decrease basal cAMP

Step 3. Interaction between Gs and Gq/calcium pathways
3A. CaMKII inhibition of Dagl
3B. PKA enhances of Gq GAP activity?  Via RGS or D2 neuron only?

Step 4.
4A. Re-run bath applied sims, as in Lindskog.  See PP2B dephos of DARPP32
Update the non-matching refs if better response.
4B. Re-run Uchigashima

Step 5.  Simulation experiments
5A. Stim files: Glu: how to account for release refractoriness and receptor desensitization (Ca and mGluR)?
    constrain by Lovinger imaging
5B. Stim files: Da and mACh: what pattern of release occurs (Da from Lovinger)
5C. Which temporal patterns select for LTP vs LTD?
5D. Sensitivity to order of Ca and Da?  Do we need AC1 for this aspect?